# 文件与文件夹的管理

## 创建文件与目录

### `touch` 命令

用于创建空文件或修改文件时间属性。

```bash
touch [选项] 文件名
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -a   | 仅更改访问时间 |
| -m   | 仅更改修改时间 |
| -c   | 不创建新文件   |
| -t   | 指定时间       |

示例：
```bash
$ touch 1.txt
$ ls -l 1.txt
-rw-------. 1 user user 0 Jun  4 23:16 1.txt
$ touch -mt 202406081200 1.txt
$ ls -l 1.txt
-rw-------. 1 user user 0 Jun  8  2024 1.txt
```

### `mkdir` 命令

用于创建目录。

```bash
mkdir [-p] 目录名
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -p   | 递归创建多级目录 |

示例：
```bash
$ mkdir test
$ mkdir -p test/test1/test2/
$ cd test/test1/test2/
$ pwd
/data/data/com.termux/files/home/test/test1/test2
```

---

## 复制、移动、删除文件与文件夹

### `cp` 命令

复制文件或目录。

```bash
cp [选项] 源 目标
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -r   | 递归复制目录   |
| -i   | 覆盖前询问     |
| -f   | 强制覆盖       |
| -v   | 显示过程       |
| -a   | 归档模式，保留属性 |

示例：
```bash
$ cp 1.txt test/
$ cp -r test2 test/
```

### `mv` 命令

移动或重命名文件/目录。

```bash
mv [选项] 源 目标
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -i   | 覆盖前询问     |
| -f   | 强制覆盖       |
| -n   | 不覆盖已存在文件 |

示例：
```bash
$ mv 1.txt 2.txt
$ mv 2.txt test/
```

### `rm` 命令

删除文件或目录。

```bash
rm [选项] 文件/目录
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -i   | 删除前确认     |
| -f   | 强制删除       |
| -r   | 递归删除目录   |

示例：
```bash
$ rm test2/2.txt
$ rm -r test/
```

### `rmdir` 命令

删除空目录。

```bash
rmdir [-p] 目录名
```
常用选项：

| 选项 | 作用           |
|:----:|:--------------|
| -p   | 连续删除多级空目录 |

示例：
```bash
$ mkdir -p test1/test2
$ rmdir -p test1/test2
```

---

## 通配符简介

- `*`：匹配任意字符
- `?`：匹配单个字符
- `[abc]`：匹配集合
- `{a,b}`：匹配多个字符串

示例：
```bash
$ ls *.txt
```

---

## 归档与压缩

### tar 归档与压缩

`tar` 用于打包多个文件/目录为一个归档文件（.tar），可配合压缩工具使用，也可用于查看归档内容。常用简写命令如 `tar xvf`（解包）、`tar cvf`（打包），可省略中间的 `-` 和参数顺序。

- `gzip` 用于对文件进行压缩，生成 .gz 文件，常与 tar 配合生成 .tar.gz。
- `bzip2` 用于对文件进行高压缩比压缩，生成 .bz2 文件，常与 tar 配合生成 .tar.bz2。
- `xz` 用于对文件进行高效压缩，生成 .xz 文件，常与 tar 配合生成 .tar.xz。
- `zstd` 用于对文件进行高速压缩，生成 .zst 文件，常与 tar 配合生成 .tar.zst。

常用参数：

| 参数 | 作用                   |
|:----:|:----------------------|
| -c   | 创建归档（create）     |
| -x   | 解包归档（extract）    |
| -v   | 显示详细过程（verbose）|
| -f   | 指定文件名（file）     |
| -p   | 保留权限（preserve）   |
| -C   | 切换目录（directory）  |
| -z   | 用 gzip 压缩/解压      |
| -j   | 用 bzip2 压缩/解压     |
| -J   | 用 xz 压缩/解压        |
| --zstd | 用 zstd 压缩/解压    |
| -t   | 查看归档内容（list）   |

常见用法示例：

- 打包目录为 tar 文件（可简写为 `tar cvf`）：
  ```bash
  tar -cvf archive.tar dir/
  tar cvf archive.tar dir/
  ```
- 打包并用 gzip 压缩（.tar.gz 或 .tgz）：
  ```bash
  tar -czvf archive.tar.gz dir/
  tar czvf archive.tar.gz dir/
  ```
- 打包并用 bzip2 压缩（.tar.bz2）：
  ```bash
  tar -cjvf archive.tar.bz2 dir/
  ```
- 打包并用 xz 压缩（.tar.xz）：
  ```bash
  tar -cJvf archive.tar.xz dir/
  ```
- 打包并用 zstd 压缩（.tar.zst）：
  ```bash
  tar --zstd -cvf archive.tar.zst dir/
  ```
- 解包 tar.gz 文件（可简写为 `tar xvf`）：
  ```bash
  tar -xzvf archive.tar.gz
  tar xzvf archive.tar.gz
  ```
- 解包 tar.xz 文件：
  ```bash
  tar -xJvf archive.tar.xz
  ```
- 解包 tar.zst 文件：
  ```bash
  tar --zstd -xvf archive.tar.zst
  ```
- **查看 tar 及其压缩包内容（如 .tar.gz、.tar.xz、.tar.zst）：**
  ```bash
  tar -tvf archive.tar.gz
  tar -tvf archive.tar.xz
  tar --zstd -tvf archive.tar.zst
  ```

---


### zip 与 unzip

- `zip` 用于打包并压缩文件或目录，生成 .zip 文件，支持递归目录，常用于跨平台文件交换。
  ```bash
  zip -r archive.zip dir/
  ```
- `unzip` 用于解压 .zip 文件，支持查看内容和解压到指定目录。
  ```bash
  unzip archive.zip
  unzip -l archive.zip
  ```

---

### 7zip（7z）与 RAR 兼容

- `7z`（7-Zip）用于高压缩比打包和压缩，支持多种格式（如 .7z、.zip、.tar、.rar 等），适合大文件和多平台。可用于解压 Windows 下常见的 RAR 文件（需安装 p7zip-full）。

常见用法示例：

- 打包并压缩为 .7z 文件：
  ```bash
  7z a archive.7z dir/
  ```
- 解压 7z 文件：
  ```bash
  7z x archive.7z
  ```
- 解压 RAR 文件（Windows 常用格式）：
  ```bash
  7z x archive.rar
  ```
- 查看 7z 或 RAR 文件内容：
  ```bash
  7z l archive.7z
  7z l archive.rar
  ```

> 7z 支持解压大部分 Windows 下的 rar 文件，适合跨平台文件交换和兼容性需求。

---

### ouch 归档与压缩

`ouch` 是一个现代多格式压缩/解压工具，支持 tar、zip、7z、gz、bz2、xz、zst 等多种格式，命令简洁统一。常用简写如 `ouch c`（compress，压缩）、`ouch d`（decompress，解压）、`ouch l`（list，查看内容）。

- `ouch` 用于打包、压缩、解压和查看多种归档文件，支持多种压缩算法。

常见用法示例：

- 打包并压缩为 .tar.gz（可简写为 `ouch c`）：
  ```bash
  ouch compress dir/ archive.tar.gz
  ouch c dir/ archive.tar.gz
  ```
- 解压归档文件（可简写为 `ouch d`）：
  ```bash
  ouch decompress archive.tar.gz
  ouch d archive.tar.gz
  ```
- 查看归档内容（可简写为 `ouch l`，支持 tar、zip、7z 等）：
  ```bash
  ouch list archive.tar.gz
  ouch l archive.tar.gz
  ```

---

### rzr 归档与压缩

- `rzr` 是一个现代命令行归档工具，支持多种压缩格式（如 zip、tar、gz、bz2、xz、zst、7z 等），操作简单，适合批量和自动化场景。
- `rzr` 用于打包、压缩、解压和查看归档内容，命令风格类似 ouch。

常见用法示例：

- 打包并压缩为 .tar.gz：
  ```bash
  rzr c archive.tar.gz dir/
  ```
- 解压归档文件：
  ```bash
  rzr x archive.tar.gz
  ```
- 查看归档内容：
  ```bash
  rzr l archive.tar.gz
  ```

---

> 常用归档压缩命令有 tar、ouch、zip、unzip、7z、rzr 等，均可用于打包、压缩、解压和查看归档内容，选择合适工具可提升效率和兼容性。


## Windows 文件兼容处理

### 编码转换（GBK <-> UTF-8）

- GBK 转 UTF-8：
  ```bash
  iconv -f gbk -t utf-8 win.txt -o utf8.txt
  ```
- UTF-8 转 GBK：
  ```bash
  iconv -f utf-8 -t gbk utf8.txt -o win.txt
  ```

### 换行符转换（CRLF <-> LF）

- Windows CRLF 转 Linux LF：
  ```bash
  dos2unix win.txt
  ```
- Linux LF 转 Windows CRLF：
  ```bash
  unix2dos linux.txt
  ```
- 或用 sed 替换：
  - CRLF 转 LF：
    ```bash
    sed -i 's/\r$//' win.txt
    ```
  - LF 转 CRLF：
    ```bash
    sed -i 's/$/\r/' linux.txt
    ```

---


> 熟练掌握文件管理、归档压缩、编码与换行转换等工具，可大幅提升 Linux 下的数据处理与跨平台兼容能力